const root=document.querySelector("body, html"),container=document.querySelector(".gg-container"),images=document.querySelectorAll(".gg-box > img"),l=images.length;let prevImg,nextImg;for(let i=0;i<l;i++)images[i].addEventListener("click",function(){let e=this,t=e.parentElement,r=document.createElement("div");r.id="gg-screen",r.innerHTML='<div class="gg-image"></div><div class="gg-close gg-btn">&times</div><div class="gg-next gg-btn">&rarr;</div><div class="gg-prev gg-btn">&larr;</div>',container.prepend(r),t.hasAttribute("data-theme")&&r.setAttribute("data-theme","dark");let n=e.src;root.style.overflow="hidden";let g=images[0].src,o=images[l-1].src,c=document.querySelector(".gg-image"),d=document.querySelector(".gg-prev"),s=document.querySelector(".gg-next"),m=document.querySelector(".gg-close");function a(){try{prevImg=e.previousElementSibling,c.innerHTML='<img src="'+prevImg.src+'">',e=e.previousElementSibling;let t=document.querySelector(".gg-image > img").src;s.hidden=!1,d.hidden=t===g}catch(r){prevImg=e.parentElement.lastElementChild,c.innerHTML='<img src="'+prevImg.src+'">',e=prevImg}}function u(){try{nextImg=e.nextElementSibling,c.innerHTML='<img src="'+nextImg.src+'">',e=e.nextElementSibling;let t=document.querySelector(".gg-image > img").src;d.hidden=!1,s.hidden=t===o}catch(r){nextImg=e.parentElement.firstElementChild,c.innerHTML='<img src="'+nextImg.src+'">',e=nextImg}}function v(){root.style.overflow="auto",r.remove()}c.innerHTML='<img src="'+n+'">',c.addEventListener("click",u),l>1?n===g?(d.hidden=!0,prevImg=!1,nextImg=e.nextElementSibling):n===o?(s.hidden=!0,nextImg=!1,prevImg=e.previousElementSibling):(prevImg=e.previousElementSibling,nextImg=e.nextElementSibling):(d.hidden=!0,s.hidden=!0),r.addEventListener("click",function(e){(e.target===this||e.target===m)&&v()}),root.addEventListener("keydown",function(e){(37===e.keyCode||38===e.keyCode)&&a(),(39===e.keyCode||40===e.keyCode)&&u(),27===e.keyCode&&v()}),d.addEventListener("click",a),s.addEventListener("click",u)});function gridGallery(e){let t;e.selector&&(t=document.querySelector(e.selector)),e.darkMode&&t.setAttribute("data-theme","dark"),("horizontal"==e.layout||"square"==e.layout)&&t.setAttribute("data-layout",e.layout),e.gaplength&&t.style.setProperty("--gap-length",e.gaplength+"px"),e.rowHeight&&t.style.setProperty("--row-height",e.rowHeight+"px"),e.columnWidth&&t.style.setProperty("--column-width",e.columnWidth+"px")}