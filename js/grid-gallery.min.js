const root=document.querySelector("body, html"),container=document.querySelector(".gg-container"),images=document.querySelectorAll(".gg-box > img"),l=images.length;let prevImg,nextImg;for(let i=0;i<l;i++)images[i].addEventListener("click",function(){let e=this,t=e.parentElement,r=document.createElement("div");r.id="gg-screen",r.innerHTML='<div class="gg-image"></div><div class="gg-close gg-btn">&times</div><div class="gg-next gg-btn">&rarr;</div><div class="gg-prev gg-btn">&larr;</div>',container.prepend(r),t.hasAttribute("data-theme")&&r.setAttribute("data-theme","dark");let n=e.src;root.style.overflow="hidden";let g=images[0].src,o=images[l-1].src,s=document.querySelector(".gg-image"),c=document.querySelector(".gg-prev"),m=document.querySelector(".gg-next"),a=document.querySelector(".gg-close");function d(){try{prevImg=e.previousElementSibling,s.innerHTML='<img src="'+prevImg.src+'">',e=e.previousElementSibling}catch(t){prevImg=e.parentElement.lastElementChild,s.innerHTML='<img src="'+prevImg.src+'">',e=prevImg}}function v(){try{nextImg=e.nextElementSibling,s.innerHTML='<img src="'+nextImg.src+'">',e=e.nextElementSibling}catch(t){nextImg=e.parentElement.firstElementChild,s.innerHTML='<img src="'+nextImg.src+'">',e=nextImg}}function u(){root.style.overflow="auto",r.remove()}s.innerHTML='<img src="'+n+'">',s.addEventListener("click",v),l>1&&(n===g?(prevImg=e.parentElement.lastElementChild,nextImg=e.nextElementSibling):n===o?(nextImg=e.parentElement.firstElementChild,prevImg=e.previousElementSibling):(prevImg=e.previousElementSibling,nextImg=e.nextElementSibling)),r.addEventListener("click",function(e){(e.target===this||e.target===a)&&u()}),root.addEventListener("keydown",function(e){(37===e.keyCode||38===e.keyCode)&&d(),(39===e.keyCode||40===e.keyCode)&&v(),27===e.keyCode&&u()}),c.addEventListener("click",d),m.addEventListener("click",v)});function gridGallery(e){let t;e.selector&&(t=document.querySelector(e.selector)),e.darkMode&&t.setAttribute("data-theme","dark"),("horizontal"==e.layout||"square"==e.layout)&&t.setAttribute("data-layout",e.layout),e.gaplength&&t.style.setProperty("--gap-length",e.gaplength+"px"),e.rowHeight&&t.style.setProperty("--row-height",e.rowHeight+"px"),e.columnWidth&&t.style.setProperty("--column-width",e.columnWidth+"px")}